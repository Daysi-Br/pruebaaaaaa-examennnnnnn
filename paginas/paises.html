<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <title>Países - API en Español</title>
    <link rel="stylesheet" href="../css/estilos.css">
</head>
<body>

<header class="header">
    <div class="container">
        <h1>Información de Países</h1>
        <p>Búsqueda de países en español</p>
        <a href="../index.html" style="color:#fff;">⬅ Volver al inicio</a>
    </div>
</header>

<main class="main-content">
    <div class="container">

        <section class="desc-card" style="max-width:650px; margin:auto; text-align:center;">

            <h2>Buscar país en español</h2>

            <input
                type="text"
                id="pais"
                placeholder="Ej: Paraguay, Argentina, España"
                style="width:100%; padding:10px; margin:15px 0; border-radius:6px; border:none; text-align:center;"
            >

            <button onclick="buscarPais()" style="padding:10px 20px; cursor:pointer;">
                Buscar
            </button>

            <div id="resultadoPais" style="margin-top:25px;"></div>

        </section>

    </div>
</main>

<footer class="footer">
    <p>Diseñada por Daysi Britos - 2025</p>
</footer>

<script>
function buscarPais() {
    const texto = document.getElementById("pais").value.trim().toLowerCase();
    const resultado = document.getElementById("resultadoPais");

    if (texto === "") {
        alert("Ingrese un país en español");
        return;
    }

    resultado.innerHTML = "<p>Buscando país...</p>";

    const url = `https://restcountries.com/v3.1/name/${texto}`;

    fetch(url)
        .then(response => response.json())
        .then(data => {

            if (!data || data.status === 404) {
                resultado.innerHTML = "<p>País no encontrado.</p>";
                return;
            }

            const pais = data[0];

            const nombre = pais.translations?.spa?.common || pais.name.common;
            const capital = pais.capital ? pais.capital[0] : "Sin datos";
            const region = pais.region;
            const poblacion = pais.population.toLocaleString();
            const bandera = pais.flags.png;

            resultado.innerHTML = `
                <h3>${nombre}</h3>
                <img src="${bandera}" alt="Bandera de ${nombre}" width="200"><br><br>

                <p><strong>Capital:</strong> ${capital}</p>
                <p><strong>Región:</strong> ${region}</p>
                <p><strong>Población:</strong> ${poblacion}</p>
            `;
        })
        .catch(error => {
            resultado.innerHTML = "<p>Error al conectar con la API.</p>";
        });
}
</script>

</body>
</html>
