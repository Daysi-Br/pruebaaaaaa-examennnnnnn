<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Galer√≠a Multimedia - Trabajo Final</title>
    <link rel="stylesheet" href="../css/estilos.css">
    <style>
        .multimedia-container {
            max-width: 1200px;
            margin: 0 auto;
        }
        
        .galeria-header {
            text-align: center;
            margin-bottom: 2rem;
        }
        
        .controles-galeria {
            background: white;
            padding: 1.5rem;
            border-radius: 8px;
            margin-bottom: 2rem;
            box-shadow: 0 2px 10px rgba(0,0,0,0.1);
        }
        
        .filtros-galeria {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
            gap: 1rem;
            margin-bottom: 1rem;
        }
        
        .galeria-container {
            background: white;
            border-radius: 12px;
            overflow: hidden;
            box-shadow: 0 4px 15px rgba(0,0,0,0.1);
            margin-bottom: 2rem;
            padding: 1.5rem;
        }
        
        .galeria-grid {
            display: grid;
            grid-template-columns: repeat(auto-fill, minmax(300px, 1fr));
            gap: 1.5rem;
        }
        
        .media-card {
            background: #f8f9fa;
            border-radius: 8px;
            overflow: hidden;
            transition: all 0.3s;
            cursor: pointer;
            box-shadow: 0 2px 8px rgba(0,0,0,0.1);
        }
        
        .media-card:hover {
            transform: translateY(-5px);
            box-shadow: 0 8px 20px rgba(0,0,0,0.15);
        }
        
        .media-imagen {
            width: 100%;
            height: 200px;
            object-fit: cover;
        }
        
        .media-video {
            width: 100%;
            height: 200px;
            object-fit: cover;
        }
        
        .media-audio {
            width: 100%;
            padding: 1rem;
            background: #e9ecef;
        }
        
        .media-info {
            padding: 1rem;
        }
        
        .media-titulo {
            font-weight: bold;
            color: #2c3e50;
            margin-bottom: 0.5rem;
        }
        
        .media-descripcion {
            color: #666;
            font-size: 0.9rem;
            margin-bottom: 0.5rem;
        }
        
        .media-categoria {
            display: inline-block;
            background: #3498db;
            color: white;
            padding: 0.3rem 0.8rem;
            border-radius: 20px;
            font-size: 0.8rem;
            margin-top: 0.5rem;
        }
        
        .reproductor-modal {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: rgba(0,0,0,0.8);
            display: flex;
            justify-content: center;
            align-items: center;
            z-index: 1000;
            opacity: 0;
            visibility: hidden;
            transition: all 0.3s;
        }
        
        .reproductor-modal.activo {
            opacity: 1;
            visibility: visible;
        }
        
        .reproductor-contenido {
            background: white;
            border-radius: 12px;
            max-width: 800px;
            width: 90%;
            max-height: 90vh;
            overflow: auto;
            padding: 2rem;
            position: relative;
        }
        
        .cerrar-modal {
            position: absolute;
            top: 1rem;
            right: 1rem;
            background: #e74c3c;
            color: white;
            border: none;
            width: 30px;
            height: 30px;
            border-radius: 50%;
            cursor: pointer;
            display: flex;
            justify-content: center;
            align-items: center;
            font-size: 1.2rem;
        }
        
        .media-grande {
            width: 100%;
            max-height: 500px;
            object-fit: contain;
            margin-bottom: 1rem;
        }
        
        .estadisticas-galeria {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(150px, 1fr));
            gap: 1rem;
            margin-bottom: 2rem;
        }
        
        .estadistica-item {
            text-align: center;
            padding: 1rem;
            background: white;
            border-radius: 8px;
            box-shadow: 0 2px 10px rgba(0,0,0,0.1);
        }
        
        .estadistica-numero {
            font-size: 1.5rem;
            font-weight: bold;
            color: #3498db;
        }
        
        .estadistica-label {
            color: #666;
            font-size: 0.9rem;
        }
        
        .subir-archivo {
            background: white;
            padding: 1.5rem;
            border-radius: 8px;
            margin-bottom: 2rem;
            box-shadow: 0 2px 10px rgba(0,0,0,0.1);
        }
        
        .form-subir {
            display: grid;
            grid-template-columns: 1fr 1fr auto;
            gap: 1rem;
            align-items: end;
        }
        
        @media (max-width: 768px) {
            .galeria-grid {
                grid-template-columns: 1fr;
            }
            
            .filtros-galeria {
                grid-template-columns: 1fr;
            }
            
            .form-subir {
                grid-template-columns: 1fr;
            }
        }
    </style>
</head>
<body>
    <header>
        <nav class="navbar">
            <div class="nav-container">
                <div class="nav-logo">
                    <h1><a href="../index.html" style="color: white; text-decoration: none;">Mi Sitio Web</a></h1>
                </div>
                <ul class="nav-menu">
                    <li class="nav-item"><a href="../index.html">Inicio</a></li>
                    <li class="nav-item"><a href="multimedia.html">Mapas</a></li>
                    <li class="nav-item"><a href="multimedia2.html" class="activo">Galer√≠a</a></li>
                </ul>
                <div class="hamburger">
                    <span></span>
                    <span></span>
                    <span></span>
                </div>
            </div>
        </nav>
    </header>

    <main class="container">
        <div class="multimedia-container">
            <div class="galeria-header">
                <h1>üñºÔ∏è Galer√≠a Multimedia</h1>
                <p>Explora nuestra colecci√≥n de im√°genes, videos y audios</p>
            </div>

            <div class="estadisticas-galeria" id="estadisticas-galeria">
                <div class="estadistica-item">
                    <div class="estadistica-numero" id="total-elementos">0</div>
                    <div class="estadistica-label">Elementos Totales</div>
                </div>
                <div class="estadistica-item">
                    <div class="estadistica-numero" id="total-imagenes">0</div>
                    <div class="estadistica-label">Im√°genes</div>
                </div>
                <div class="estadistica-item">
                    <div class="estadistica-numero" id="total-videos">0</div>
                    <div class="estadistica-label">Videos</div>
                </div>
                <div class="estadistica-item">
                    <div class="estadistica-numero" id="total-audios">0</div>
                    <div class="estadistica-label">Audios</div>
                </div>
            </div>

            <div class="subir-archivo">
                <h3>üì§ Subir Nuevo Archivo</h3>
                <div class="form-subir">
                    <div class="form-group">
                        <label for="tipo-archivo">Tipo de Archivo</label>
                        <select id="tipo-archivo" class="form-control">
                            <option value="imagen">Imagen</option>
                            <option value="video">Video</option>
                            <option value="audio">Audio</option>
                        </select>
                    </div>
                    
                    <div class="form-group">
                        <label for="titulo-archivo">T√≠tulo</label>
                        <input type="text" id="titulo-archivo" class="form-control" placeholder="T√≠tulo del archivo...">
                    </div>
                    
                    <button class="btn btn-success" onclick="subirArchivo()">
                        Subir Archivo
                    </button>
                </div>
                <small>Nota: Esta es una simulaci√≥n. En una aplicaci√≥n real se implementar√≠a la subida real de archivos.</small>
            </div>

            <div class="controles-galeria">
                <div class="filtros-galeria">
                    <div class="form-group">
                        <label for="tipo-media">Tipo de Media</label>
                        <select id="tipo-media" class="form-control" onchange="filtrarMedia()">
                            <option value="todos">Todos los tipos</option>
                            <option value="imagen">Im√°genes</option>
                            <option value="video">Videos</option>
                            <option value="audio">Audios</option>
                        </select>
                    </div>
                    
                    <div class="form-group">
                        <label for="categoria-media">Categor√≠a</label>
                        <select id="categoria-media" class="form-control" onchange="filtrarMedia()">
                            <option value="todos">Todas las categor√≠as</option>
                            <option value="naturaleza">Naturaleza</option>
                            <option value="ciudad">Ciudad</option>
                            <option value="arte">Arte</option>
                            <option value="personas">Personas</option>
                        </select>
                    </div>
                    
                    <div class="form-group">
                        <label for="busqueda-media">Buscar</label>
                        <input type="text" id="busqueda-media" class="form-control" placeholder="T√≠tulo o descripci√≥n..." oninput="filtrarMedia()">
                    </div>
                </div>
                
                <div style="display: flex; gap: 1rem; flex-wrap: wrap;">
                    <button class="btn" onclick="reproducirAleatorio()">
                        üé≤ Reproducir Aleatorio
                    </button>
                    <button class="btn" onclick="descargarTodo()">
                        ‚¨áÔ∏è Descargar Todo
                    </button>
                    <button class="btn btn-success" onclick="agregarMediaEjemplo()">
                        ‚ûï Agregar Ejemplo
                    </button>
                </div>
            </div>

            <div class="galeria-container">
                <div class="galeria-grid" id="galeria-container">
                    <!-- Los elementos multimedia se cargar√°n aqu√≠ -->
                </div>
            </div>
        </div>
    </main>

    <!-- Modal para reproducir elementos -->
    <div class="reproductor-modal" id="reproductor-modal">
        <div class="reproductor-contenido">
            <button class="cerrar-modal" onclick="cerrarModal()">√ó</button>
            <div id="contenido-modal">
                <!-- Contenido del modal se cargar√° aqu√≠ -->
            </div>
        </div>
    </div>

    <footer>
        <p>P√°gina Web Dise√±ada por Daysi Britos - 2025</p>
    </footer>

    <script>
        // Variables globales
        let elementosMultimedia = [];
        let elementoActual = null;

        // Datos de elementos multimedia de ejemplo
        const elementosEjemplo = [
            {
                id: 1,
                titulo: "Paisaje Monta√±oso",
                descripcion: "Hermoso paisaje de monta√±as al atardecer",
                tipo: "imagen",
                categoria: "naturaleza",
                url: "https://picsum.photos/id/1015/600/400",
                fecha: "2024-03-15"
            },
            {
                id: 2,
                titulo: "Ciudad Nocturna",
                descripcion: "Vista panor√°mica de una ciudad por la noche",
                tipo: "imagen",
                categoria: "ciudad",
                url: "https://picsum.photos/id/1018/600/400",
                fecha: "2024-03-10"
            },
            {
                id: 3,
                titulo: "Olas del Oc√©ano",
                descripcion: "Video relajante de olas rompiendo en la playa",
                tipo: "video",
                categoria: "naturaleza",
                url: "https://commondatastorage.googleapis.com/gtv-videos-bucket/sample/ForBiggerJoyrides.mp4",
                fecha: "2024-03-05"
            },
            {
                id: 4,
                titulo: "M√∫sica Ambiental",
                descripcion: "Pista de audio relajante para meditaci√≥n",
                tipo: "audio",
                categoria: "arte",
                url: "https://commondatastorage.googleapis.com/codeskulptor-assets/Epoq-Lepidoptera.ogg",
                fecha: "2024-02-28"
            },
            {
                id: 5,
                titulo: "Arte Abstracto",
                descripcion: "Composici√≥n de colores y formas abstractas",
                tipo: "imagen",
                categoria: "arte",
                url: "https://picsum.photos/id/1020/600/400",
                fecha: "2024-02-20"
            },
            {
                id: 6,
                titulo: "Documental Urbano",
                descripcion: "Video documental sobre la vida en la ciudad",
                tipo: "video",
                categoria: "ciudad",
                url: "https://commondatastorage.googleapis.com/gtv-videos-bucket/sample/ForBiggerBlazes.mp4",
                fecha: "2024-02-15"
            },
            {
                id: 7,
                titulo: "Sonidos de la Naturaleza",
                descripcion: "Audio con sonidos de p√°jaros y agua corriente",
                tipo: "audio",
                categoria: "naturaleza",
                url: "https://commondatastorage.googleapis.com/codeskulptor-assets/week7-brrring.m4a",
                fecha: "2024-02-10"
            },
            {
                id: 8,
                titulo: "Retrato en Blanco y Negro",
                descripcion: "Fotograf√≠a art√≠stica en blanco y negro",
                tipo: "imagen",
                categoria: "personas",
                url: "https://picsum.photos/id/1025/600/400",
                fecha: "2024-02-05"
            }
        ];

        // Inicializar galer√≠a
        function inicializarGaleria() {
            elementosMultimedia = [...elementosEjemplo];
            cargarGaleria();
            actualizarEstadisticas();
        }

        function cargarGaleria() {
            const container = document.getElementById('galeria-container');
            container.innerHTML = '';

            elementosMultimedia.forEach(elemento => {
                const mediaCard = document.createElement('div');
                mediaCard.className = 'media-card';
                
                let mediaContent = '';
                
                if (elemento.tipo === 'imagen') {
                    mediaContent = `
                        <img src="${elemento.url}" alt="${elemento.titulo}" class="media-imagen">
                    `;
                } else if (elemento.tipo === 'video') {
                    mediaContent = `
                        <video class="media-video" controls>
                            <source src="${elemento.url}" type="video/mp4">
                            Tu navegador no soporta el elemento de video.
                        </video>
                    `;
                } else if (elemento.tipo === 'audio') {
                    mediaContent = `
                        <div class="media-audio">
                            <audio controls style="width: 100%">
                                <source src="${elemento.url}" type="audio/mpeg">
                                Tu navegador no soporta el elemento de audio.
                            </audio>
                        </div>
                    `;
                }
                
                mediaCard.innerHTML = `
                    ${mediaContent}
                    <div class="media-info">
                        <div class="media-titulo">${elemento.titulo}</div>
                        <div class="media-descripcion">${elemento.descripcion}</div>
                        <div class="media-categoria">${elemento.categoria}</div>
                    </div>
                `;
                
                mediaCard.addEventListener('click', () => {
                    abrirModal(elemento);
                });

                container.appendChild(mediaCard);
            });
        }

        function abrirModal(elemento) {
            elementoActual = elemento;
            const modal = document.getElementById('reproductor-modal');
            const contenido = document.getElementById('contenido-modal');
            
            let contenidoHTML = `
                <h2>${elemento.titulo}</h2>
                <p>${elemento.descripcion}</p>
                <p><strong>Categor√≠a:</strong> ${elemento.categoria} | <strong>Fecha:</strong> ${elemento.fecha}</p>
            `;
            
            if (elemento.tipo === 'imagen') {
                contenidoHTML += `<img src="${elemento.url}" alt="${elemento.titulo}" class="media-grande">`;
            } else if (elemento.tipo === 'video') {
                contenidoHTML += `
                    <video class="media-grande" controls autoplay>
                        <source src="${elemento.url}" type="video/mp4">
                        Tu navegador no soporta el elemento de video.
                    </video>
                `;
            } else if (elemento.tipo === 'audio') {
                contenidoHTML += `
                    <audio controls autoplay style="width: 100%; margin: 1rem 0;">
                        <source src="${elemento.url}" type="audio/mpeg">
                        Tu navegador no soporta el elemento de audio.
                    </audio>
                `;
            }
            
            contenidoHTML += `
                <div style="display: flex; gap: 1rem; margin-top: 1rem;">
                    <button class="btn" onclick="descargarElemento(${elemento.id})">
                        ‚¨áÔ∏è Descargar
                    </button>
                    <button class="btn" onclick="compartirElemento(${elemento.id})">
                        üîó Compartir
                    </button>
                </div>
            `;
            
            contenido.innerHTML = contenidoHTML;
            modal.classList.add('activo');
        }

        function cerrarModal() {
            const modal = document.getElementById('reproductor-modal');
            modal.classList.remove('activo');
            
            // Detener reproducci√≥n de medios
            const videos = modal.querySelectorAll('video');
            const audios = modal.querySelectorAll('audio');
            
            videos.forEach(video => {
                video.pause();
                video.currentTime = 0;
            });
            
            audios.forEach(audio => {
                audio.pause();
                audio.currentTime = 0;
            });
        }

        function filtrarMedia() {
            const tipo = document.getElementById('tipo-media').value;
            const categoria = document.getElementById('categoria-media').value;
            const busqueda = document.getElementById('busqueda-media').value.toLowerCase();

            const elementosFiltrados = elementosEjemplo.filter(elemento => {
                const coincideTipo = tipo === 'todos' || elemento.tipo === tipo;
                const coincideCategoria = categoria === 'todos' || elemento.categoria === categoria;
                const coincideBusqueda = !busqueda || 
                    elemento.titulo.toLowerCase().includes(busqueda) ||
                    elemento.descripcion.toLowerCase().includes(busqueda);
                
                return coincideTipo && coincideCategoria && coincideBusqueda;
            });

            // Actualizar galer√≠a
            elementosMultimedia = elementosFiltrados;
            cargarGaleria();
            actualizarEstadisticas();
        }

        function subirArchivo() {
            const tipo = document.getElementById('tipo-archivo').value;
            const titulo = document.getElementById('titulo-archivo').value;
            
            if (!titulo) {
                alert('Por favor, ingresa un t√≠tulo para el archivo.');
                return;
            }

            // Crear elemento simulado
            const nuevoElemento = {
                id: Date.now(),
                titulo: titulo,
                descripcion: 'Archivo subido por el usuario',
                tipo: tipo,
                categoria: 'personalizado',
                url: obtenerURLPorTipo(tipo),
                fecha: new Date().toISOString().split('T')[0]
            };

            elementosMultimedia.push(nuevoElemento);
            cargarGaleria();
            actualizarEstadisticas();
            
            // Limpiar formulario
            document.getElementById('titulo-archivo').value = '';
            
            alert('Archivo subido exitosamente (simulaci√≥n)');
        }

        function obtenerURLPorTipo(tipo) {
            // URLs de ejemplo para diferentes tipos de medios
            const urls = {
                imagen: 'https://picsum.photos/id/' + (Math.floor(Math.random() * 100) + 1) + '/600/400',
                video: 'https://commondatastorage.googleapis.com/gtv-videos-bucket/sample/ForBiggerJoyrides.mp4',
                audio: 'https://commondatastorage.googleapis.com/codeskulptor-assets/week7-brrring.m4a'
            };
            
            return urls[tipo] || urls.imagen;
        }

        function agregarMediaEjemplo() {
            const tipos = ['imagen', 'video', 'audio'];
            const categorias = ['naturaleza', 'ciudad', 'arte', 'personas'];
            
            const tipoAleatorio = tipos[Math.floor(Math.random() * tipos.length)];
            const categoriaAleatoria = categorias[Math.floor(Math.random() * categorias.length)];
            
            const nuevoElemento = {
                id: Date.now(),
                titulo: `Elemento Ejemplo ${elementosMultimedia.length + 1}`,
                descripcion: 'Este es un elemento de ejemplo agregado din√°micamente',
                tipo: tipoAleatorio,
                categoria: categoriaAleatoria,
                url: obtenerURLPorTipo(tipoAleatorio),
                fecha: new Date().toISOString().split('T')[0]
            };

            elementosMultimedia.push(nuevoElemento);
            cargarGaleria();
            actualizarEstadisticas();
        }

        function reproducirAleatorio() {
            if (elementosMultimedia.length === 0) {
                alert('No hay elementos para reproducir.');
                return;
            }
            
            const elementoAleatorio = elementosMultimedia[Math.floor(Math.random() * elementosMultimedia.length)];
            abrirModal(elementoAleatorio);
        }

        function descargarTodo() {
            alert('Iniciando descarga de todos los elementos (simulaci√≥n). En una aplicaci√≥n real, se descargar√≠a un archivo comprimido.');
        }

        function descargarElemento(id) {
            const elemento = elementosMultimedia.find(e => e.id === id);
            if (elemento) {
                alert(`Descargando: ${elemento.titulo} (simulaci√≥n)`);
                // En una aplicaci√≥n real, aqu√≠ se implementar√≠a la descarga real
            }
        }

        function compartirElemento(id) {
            const elemento = elementosMultimedia.find(e => e.id === id);
            if (elemento) {
                const urlCompartir = window.location.href + '?elemento=' + id;
                alert(`Enlace para compartir: ${urlCompartir}`);
                // En una aplicaci√≥n real, aqu√≠ se implementar√≠a la funcionalidad de compartir
            }
        }

        function actualizarEstadisticas() {
            document.getElementById('total-elementos').textContent = elementosMultimedia.length;
            
            const totalImagenes = elementosMultimedia.filter(e => e.tipo === 'imagen').length;
            const totalVideos = elementosMultimedia.filter(e => e.tipo === 'video').length;
            const totalAudios = elementosMultimedia.filter(e => e.tipo === 'audio').length;
            
            document.getElementById('total-imagenes').textContent = totalImagenes;
            document.getElementById('total-videos').textContent = totalVideos;
            document.getElementById('total-audios').textContent = totalAudios;
        }

        // Inicializar cuando el DOM est√© listo
        document.addEventListener('DOMContentLoaded', inicializarGaleria);
    </script>
</body>
</html>